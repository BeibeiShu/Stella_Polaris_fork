<!DOCTYPE html>
<html>
<head>
    <title>Video Annotation</title>
    <link rel = "stylesheet" href= "{{ url_for('static', filename='css/style.css')}}"> </link>
    <link rel = "stylesheet_videojs" href="{{ url_for('static', filename='css/video-js-8.23.3/video-js.css')}}"></link>
    <script src="{{ url_for('static', filename='js/video.js')}}"> </script>
    <!-- <link href="//vjs.zencdn.net/7.10.2/video-js.min.css" rel="stylesheet">
    <script src="//vjs.zencdn.net/7.10.2/video.min.js"></script> -->

</head>
<body>
    <div class="main_container">
        <div id="video_container" class = "video_container">
            <!-- <img id="video_player" src = "{{ url_for('video_feed') }}" alt="preview of video stream" playing="true"> -->
            <!-- <video id="video_player" src="{{ url_for('video_feed') }}" autoplay muted controlist="nodownload" oncontextmenu="return false;"></video> -->
            <!-- <video id="video_player" src="" controls="controls" autoplay="autoplay"></video> -->
             <video id="video_player" controls="controls" autoplay="autoplay">
                <source="" type="video/mp4">
            </video>
            <!-- <label for="video_file_input" class="file_input_label"></label>
            <input type="file" id="video_file_input" accept="video/*"> -->

            <canvas id="grid_overlay" class="grid_overlay"></canvas>
        </div>
        <div class="below_video_container">
            <div id = "status"> </div>
            <div class="button_group">
                <button id="generateJSON" onclick="generateJSON()">Generate JSON</button>
                <button id="upload_button">Upload Video</button>
                <div class = "annotate_group">
                    <button id="upload_annotation">Annotate</button>
                </div>
                <input type="file" id="video_file_input" accept="video/*" style="display: none;">
                <!-- <button id="play_pause" onclick="play_pause()">Play/Pause</button> -->
            </div>
        </div>
    </div>

    <div id = "context_menu" class = "dropdown-content">
        <a href="#" data-color = "white" class="dropdown">0 White</a>
        <a href="#" data-color = "green" class="dropdown">1 Green</a>
        <a href="#" data-color = "yellow"  class="dropdown">2 Yellow</a>
        <a href="#" data-color = "blue"  class="dropdown">3 Blue</a>
        <a href="#" data-color = "red" class="dropdown">4 Red</a>
        <a id="cancel_button" href="#" data-color = "_cancel_"  class="dropdown">Cancel</a>
    </div>
    <br>

    <script src = "{{ url_for('static', filename='js/video_annotation.js')}}"> </script>
    <script>
        const M = {{m}};
        const N = {{n}};
    </script>
    <!-- <script src="{{ url_for('static', filename='js/video.min.js')}}"> </script> -->
    <!-- <script src="{{ url_for('static', filename='js/video.js')}}"> </script> -->

    <form id = "annotation_form" action = "/new_annotation" method = "POST">
        <input type = "hidden" id = "annotation_data" name = "annotation_data">
    </form>

</body>
</html>